
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="configFragment">
    <meta charset="UTF-8">


    <!-- BootStrap -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

	<!-- Bootstrap core JS-->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Core theme JS-->
	<script src="js/scripts.js"></script>


    <!-- Google fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Montserrat:400,700"/>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic"/>

    <!-- FontAwesome -->
    <script src="https://kit.fontawesome.com/32aa2b8683.js" crossorigin="anonymous"></script>

	<link href="/css/styles.css" rel="stylesheet"/>


	<!-- BootStrap JS  -->
	<script>
        window.addEventListener('DOMContentLoaded', event => {
            const sidebarToggle = document.getElementById('sidebarToggle');
            const wrapper = document.getElementById('wrapper');

            if (sidebarToggle) {
                sidebarToggle.addEventListener('click', event => {
                    event.preventDefault();
                    wrapper.classList.toggle('toggled');

                    if (wrapper.classList.contains('toggled')) {
                        sidebarToggle.textContent = '>>';
                    } else {
                        sidebarToggle.textContent = '<<';
                    }

                    // 저장 상태 업데이트
                    localStorage.setItem('sb|sidebar-toggle', wrapper.classList.contains('toggled'));
                });

                // 초기 로드 시 저장된 상태 복원
                if (localStorage.getItem('sb|sidebar-toggle') === 'true') {
                    wrapper.classList.add('toggled');
                    sidebarToggle.textContent = '>>';
                } else {
                    sidebarToggle.textContent = '<<';
                }
            }
        });

        function printPage(){
            window.print();
        }
	</script>

	<style>
        #wrapper.toggled #sidebar-wrapper {
            display: none;
        }

        /* Print styles */
        @media print {
            #sidebar-wrapper,
            .btn,
            .navbar,
            .header-div {
                display: none !important;
            }
        }
	</style>

</th:block>

<th:block th:fragment="summerNoteFragment">
    <!-- SummerNote -->
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>
</th:block>

<!-- Courses(과정) 헤더 -->
<th:block th:fragment="coursesHeader">
    <div class="header-div">
        <header class="d-flex border-bottom">
            <ul class="nav nav-pills">
                <li class="nav-item nav-btn"><a href="/courses" class="nav-link" aria-current="page">과정 관리</a></li>
                <li class="nav-item nav-btn"><a href="/ability-units" class="nav-link">능력 단위 관리</a></li>
                <div class="nav-item nav-btn">
                    <button type="button" class="btn" onclick="location.href='/logout'">로그아웃</button>
                </div>
            </ul>
        </header>
    </div>
</th:block>

<!-- Ability Units(능력 단위) 헤더 -->
<th:block th:fragment="abilityUnitsHeader">
    <div class="header-div">
        <header class="d-flex border-bottom">
            <ul class="nav nav-pills">
                <li class="nav-item nav-btn"><a href="/courses" class="nav-link" aria-current="page">과정 관리</a></li>
                <li class="nav-item nav-btn"><a href="/ability-units" class="nav-link">능력 단위 관리</a></li>
                <div class="nav-item nav-btn">
                    <button type="button" class="btn" onclick="location.href='/logout'">로그아웃</button>
                </div>
            </ul>
        </header>
    </div>
</th:block>

<!-- Academy(학원) 헤더 -->
<th:block th:fragment="academyHeader">
    <div class="header-div">
        <header class="d-flex border-bottom">
            <ul class="nav nav-pills">
                <li class="nav-item nav-btn"><a href="#" class="nav-link" aria-current="page">학원 관리</a></li>
                <li class="nav-item nav-btn"><a href="#" class="nav-link">능력 단위 관리</a></li>
                <div class="nav-item nav-btn">
                    <button type="button" class="btn" onclick="location.href='/logout'">로그아웃</button>
                </div>
            </ul>
        </header>
    </div>
</th:block>

<!-- User(유저) 헤더 -->
<th:block th:fragment="employHeader">
    <div class="header-div">
        <header class="d-flex border-bottom">
            <ul class="nav nav-pills">
                <li class="nav-item nav-btn"><a href="#" class="nav-link" aria-current="page">교직원 관리</a></li>
                <li class="nav-item nav-btn"><a href="#" class="nav-link">과정 관리</a></li>
                <div class="nav-item nav-btn">
                    <button type="button" class="btn" onclick="location.href='/logout'">로그아웃</button>
                </div>
            </ul>
        </header>
    </div>
</th:block>

<!-- student(학생) 헤더 -->
<th:block th:fragment="studentHeader">
    <div class="header-div">
        <header class="d-flex border-bottom">
            <ul class="nav nav-pills">
                <li class="nav-item nav-btn"><a href="/courses" class="nav-link" aria-current="page">과정 관리</a></li>
                <li class="nav-item nav-btn"><a href="/ability-units" class="nav-link">능력 단위 관리</a></li>
                <div class="nav-item nav-btn">
                    <button type="button" class="btn" onclick="location.href='/logout'">로그아웃</button>
                </div>
            </ul>
        </header>
    </div>
</th:block>


<!-- ExamPaper(시험지) 헤더 -->
<th:block th:fragment="examPaperHeader">
	<div class="header-div">
		<header class="d-flex border-bottom">
			<ul class="nav nav-pills">
				<li class="nav-item nav-btn"><a href="/courses" class="nav-link" aria-current="page">과정 관리</a></li>
				<li class="nav-item nav-btn"><a href="/ability-units" class="nav-link">능력 단위 관리</a></li>
				<div class="nav-item nav-btn">
					<button type="button" class="btn" onclick="location.href='/logout'">로그아웃</button>
				</div>
			</ul>
		</header>
	</div>
</th:block>

<!-- 사이드바 -->
<th:block th:fragment="commonSideBar">
	<div class="d-flex" id="wrapper">
		<!-- Sidebar-->
		<div class="border-end bg-white" id="sidebar-wrapper">
			<div class="sidebar-heading border-bottom bg-light">NCS 능력 단위 평가</div>
			<div class="list-group list-group-flush">
				<a class="list-group-item list-group-item-action list-group-item-light p-3" href="/ability-units">능력 단위</a>
				<a class="list-group-item list-group-item-action list-group-item-light p-3" href="/courses">과정</a>
				<a class="list-group-item list-group-item-action list-group-item-light p-3" href="/courses/1/students">학생</a>
				<a class="list-group-item list-group-item-action list-group-item-light p-3" href="/users/list">직원</a>
				<a class="list-group-item list-group-item-action list-group-item-light p-3" href="/exam/saveForm/1">시험</a>
			</div>
		</div>
		<!-- Page content wrapper-->
		<div id="page-content-wrapper">
			<!-- Top navigation-->
			<nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
				<div class="container-fluid">
					<button class="btn btn-primary" id="sidebarToggle">사이드바 On/Off</button>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class="nav-item active"><a class="nav-link" href="/">Home</a></li>
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></a>
								<div class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
									<a class="dropdown-item print" onclick="printPage()">프린트</a>
									<a class="dropdown-item" href="#!">Another action</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item" href="/logout">로그아웃</a>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</nav>
<!-- 다른 페이지에서 사이드바 적용 이후에 div를 자연스럽게 이어주기 위해 끊음 -->
</th:block>